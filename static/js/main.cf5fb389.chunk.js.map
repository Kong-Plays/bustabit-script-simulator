{"version":3,"sources":["data/ScriptUtils.js","data/ScriptConstants.js","data/simulate.js","views/components/BustabitScriptConfig.js","views/components/LineChart.js","views/components/BustabitScript.js","views/components/Disclaimer.js","views/components/Donate.js","views/AppView.js","data/ScriptActionTypes.js","data/ScriptDispatcher.js","data/ScriptStore.js","data/ScriptListStore.js","data/ScriptActions.js","containers/AppContainer.js","serviceWorker.js","index.js"],"names":["getLocalStorageScripts","JSON","parse","localStorage","getItem","e","setLocalStorageScripts","scripts","undefined","constructor","Object","keys","length","removeItem","setItem","stringify","onBeforeSave","script","oldConfig","config","getConfigFromScriptText","assignConfigValues","values","TypeError","key","value","type","options","splitConfigFromScriptText","regexp","match","exec","String","text","trim","eval","getScriptTextWithoutConfig","getUniqueID","existingIds","attempt","id","CryptoJS","lib","WordArray","random","indexOf","ScriptUtils","load","restoreSamples","forEach","isSample","ScriptConstants","SCRIPT_SAMPLES","save","delete","runScript","_ref","settings","gameHash","gameAmount","startingBalance","drawChart","_home_ubuntu_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","arguments","then","callback","setTimeout","simulate","results","catch","error","console","NEW_SCRIPT","name","__webpack_exports__","hashToBust","seed","HmacSHA256","enc","Hex","toString","slice","nBits","X","parseInt","Math","pow","result","floor","max","hashToBusts","amount","isNaN","prevHash","unshift","hash","bust","index","SHA256","SimulatedBustabitHistory","_home_ubuntu_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","this","data","SimulatedBustabitEngine","_this","_home_ubuntu_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_home_ubuntu_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","_userInfo","uname","balance","bets","profit","profitATH","profitATL","history","bet","bind","_home_ubuntu_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","next","wager","payout","_this2","Promise","resolve","reject","round","isAuto","EventEmitter","evalScript","engine","userInfo","log","stop","gameResultFromHash","logMessages","shouldStop","shouldStopReason","_console","msg","Array","prototype","join","apply","_home_ubuntu_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","message","assign","chartData","duration","profitPerHour","context","reason","games","nextGame","setImmediate","game","isSimulation","cashedAt","gameState","emit","gameId","endSimulation","doGame","concat","reduce","a","b","BustabitScriptConfig","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","handleConfigFieldChange","assertThisInitialized","path","split","obj","i","onChange","_this$props","_this$props$className","className","rest","objectWithoutProperties","react_default","createElement","map","element","component","FieldTypes","objectSpread","Component","freeze","label","optional","htmlFor","parseFloat","required","step","eventInfo","target","checkbox","_ref2","checked","multiplier","_ref3","noop","_ref4","radio","_ref5","optionFieldChange","style","width","padding","option","_ref6","LineChart","state","tooltipData","handleTooltipChange","shouldUpdateLineChart","updateLineChart","container","ReactDOM","findDOMNode","prevProps","prevState","viewBoxWidth","viewBoxHeight","xAccessor","yAccessor","crosshairEnabled","crosshairClassName","preserveAspectRatio","visibility","LineChart_Tooltip","setState","some","propName","prev","current","isArray","onTooltipChange","svgElement","d3","select","tooltipElement","attr","margin","top","right","bottom","left","margin2","height","height2","selectAll","remove","selected","xScale","range","xScale2","yScale","yScale2","xAxis","xAxis2","yAxis","tickFormat","n","lineX","d","lineY","line","x","y","line2","brush","extent","on","sourceEvent","s","selection","domain","invert","g_lines","moveCrosshair","g_axes","zoom","transform","scale","translate","scaleExtent","Infinity","translateExtent","t","rescaleX","move","invertX","append","crosshairElement","overlay","xdomain","ydomain","transition","ease","datum","enter","mousex","dx","bisect","d0","d1","abs","classed","tooltipX","tooltipY","svgMouse","node","containerMouse","tooltipOffset","tooltipSize","getBoundingClientRect","moveTooltip","withData","d3LineChart","Tooltip","_this$props2","wrapper","readOnly","App","editing","creating","deleting","viewState","BustabitScript_List","BustabitScript_Edit","updateError","onCancel","onSave","BustabitScript_New","createError","BustabitScript_Show","Title","_this$props2$classNam","href","List","_this$props3","_this$props3$classNam","deletingId","colSpan","BustabitScript_NewButton","onClick","onNew","items","entrySeq","slicedToArray","maxWidth","BustabitScript_Delete","onDeleteConfirmed","BustabitScript_SelectButton","onSelect","BustabitScript_EditButton","onEdit","BustabitScript_DeleteButton","onDelete","Show","resultsElement","document","getElementById","window","scrollY","scrollTo","behavior","_this$props4","_this$props4$classNam","BustabitScript_GoBackButton","isLoading","onDeselect","components_BustabitScriptConfig","BustabitScript_Control","icon","min","event","changes","defineProperty","disabled","args","onRunScript","Boolean","placeholder","milliseconds","seconds","minutes","hours","msToTime","views_components_LineChart","BustabitScript_BackToTopButton","Delete","_this3","EditButton","_this$props5","_this$props5$classNam","SelectButton","_this$props6","_this$props6$classNam","DeleteButton","_this$props7","_this$props7$classNam","NewButton","_this$props8","_this$props8$classNam","GoBackButton","_this$props9","_this$props9$classNam","BackToTopButton","_ref4$className","scroll","Edit","_this4","close","preventDefault","_this5","onSubmit","defaultValue","rows","New","Control","_this$props10","children","_this$props10$classNa","components_BustabitScript","DisclaimerButton","isOpen","Disclaimer_DisclaimerModal","onClose","DisclaimerModal","DonateButton","Donate_DonateModal","DonateModal","rel","AppView","Helmet","async","src","Disclaimer_DisclaimerButton","Donate_DonateButton","ActionTypes","LOADED","NEW","CREATE_ERROR","CREATED","EDIT","UPDATE_ERROR","UPDATED","CANCEL","DELETE","DELETE_ERROR","DELETED","SIMULATE","SIMULATED","ScriptDispatcher","Dispatcher","data_ScriptStore","ScriptStore","Immutable","OrderedMap","action","ScriptActionTypes","clear","merge","set","ReduceStore","data_ScriptListStore","ScriptListStore","editingId","selectedId","isSimulating","SELECT","DESELECT","Actions","dispatch","deleteConfirmed","new","edit","cancel","deselect","Container","createFunctional","getState","list","get","deleteError","ScriptActions","location","hostname","render","AppContainer","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cf5fb389.chunk.js","sourcesContent":["import ScriptConstants from './ScriptConstants'\nimport simulate from './simulate'\nimport CryptoJS from \"crypto-js\"\n\n/*\n Helper functions\n*/\n\nfunction getLocalStorageScripts () {\n  try {\n    return JSON.parse(localStorage.getItem('scripts'))\n  } catch (e) {\n    return null\n  }\n}\n\nfunction setLocalStorageScripts (scripts) {\n  if (scripts === undefined ||\n      scripts === null ||\n      (scripts.constructor === Object && Object.keys(scripts).length === 0)) {\n    localStorage.removeItem('scripts')\n  } else {\n    localStorage.setItem('scripts', JSON.stringify(scripts))\n  }\n}\n\nfunction onBeforeSave (script) {\n  let oldConfig = script.config;\n  script.config = getConfigFromScriptText(script)\n  assignConfigValues(script.config, oldConfig)\n}\n\nfunction assignConfigValues(config, values) {\n  if (!config || config.constructor !== Object) {\n    throw new TypeError('config should be an object')\n  }\n  if (values && values.constructor !== Object) {\n    throw new TypeError('values should be undefined or an object')\n  }\n  if (!values) return config;\n  for (const key in values) {\n    if (!values[key] || values[key].constructor !== Object) continue;\n    if (!config[key]) continue;\n    if (values[key].value === undefined) continue;\n    config[key].value = values[key].value\n    if (config[key].type === 'radio') {\n      config[key].options = assignConfigValues(config[key].options || {}, values[key].options)\n    }\n  } \n  return config\n}\n\n/**\n * There should be a <code>var config = ...</code> at the top of the script.\n * This function will extract that variable from the script and return it as an object,\n * together with the remaining script text.\n * @param {string} script.text The script's actual raw text\n * @returns {Array} The config and the remaining script text.\n */\nfunction splitConfigFromScriptText (script) {\n  const regexp = /^\\s?(var config = {(?:.|\\s)*?^};?)((?:.|\\s)*)$/gm\n  const match = regexp.exec(String(script.text).trim())\n\n  if (match === null) {\n    throw new TypeError('The script should begin with: \\r\\nvar config = {\\r\\n  ...\\r\\n}\\r\\n')\n  }\n  const config = eval(match[1] + '\\r\\nconfig;')\n  return [config, match[2]]\n}\n\nfunction getConfigFromScriptText (script) {\n  return splitConfigFromScriptText(script)[0]\n}\n\nfunction getScriptTextWithoutConfig (script) {\n  return splitConfigFromScriptText(script)[1]\n}\n\nfunction getUniqueID (existingIds) {\n  for (let attempt = 0; attempt < 3; attempt++) {\n    let id = String(CryptoJS.lib.WordArray.random(16))\n    if (!existingIds || existingIds.indexOf(id) === -1) {\n      return id\n    }\n  }\n}\n\nconst ScriptUtils = {\n  /**\n   * Load scripts from localStorage.\n   * Will insert sample scripts if there are no scripts yet.\n   * @returns {Object.<string, Object>} all scripts\n   */\n  load () {\n    let scripts = getLocalStorageScripts()\n    if (scripts === null || scripts === undefined) {\n      scripts = ScriptUtils.restoreSamples()\n    }\n    return scripts\n  },\n\n  /**\n   * Insert or re-insert sample scripts into localStorage.\n   * @returns {Object.<string, Object>} all scripts\n   */\n  restoreSamples () {\n    let scripts = getLocalStorageScripts() || {}\n    Object.keys(scripts).forEach(id => {\n      if (scripts[id].isSample) {\n        delete scripts[id]\n      }\n    })\n    ScriptConstants.SCRIPT_SAMPLES.forEach((script) => {\n      onBeforeSave(script)\n      script.isSample = true\n      script.id = getUniqueID(Object.keys(scripts))\n      scripts[script.id] = script\n    })\n    setLocalStorageScripts(scripts)\n\n    return scripts\n  },\n\n  /**\n   * Save a script.\n   * @param {Object.<string, Object>} script The script to save\n   */\n  save (script) {\n    let scripts = getLocalStorageScripts()\n    onBeforeSave(script)\n    if (!script.id) {\n      script.id = getUniqueID(Object.keys(scripts))\n    }\n    scripts[script.id] = script\n    setLocalStorageScripts(scripts)\n  },\n\n  /**\n   * Delete a script.\n   * @param {string} id The id of script to delete\n   */\n  delete (id) {\n    let scripts = getLocalStorageScripts()\n    delete scripts[id]\n    setLocalStorageScripts(scripts)\n  },\n\n  /**\n   * Simulate a script on a number of games based on a previous bustabit game's hash.\n   * @param options The simulation options\n   * @param {Object} options.script The script with it's text and config attributes.\n   * @param {string} options.gameHash Some previous bustabit game's hash.\n   * @param {number} options.gameAmount The amount of games to simulate\n   * @param {number} options.startingBalance The amount of Bits to start with.\n   * @param {boolean} options.drawChart Whether to collect extra data that is required for a line chart.\n   */\n  runScript ({ script, gameHash, gameAmount, startingBalance, drawChart }) {\n    let settings = { ...arguments[0] }\n    delete settings.script\n    settings.config = script.config\n    settings.text = getScriptTextWithoutConfig(script)\n\n    return {\n      then: function (callback) {\n        setTimeout(function () {\n          simulate(settings)\n            .then((results) => {\n              callback(results)\n            })\n            .catch(error => {\n              console.error(error)\n              let results = { error: error }\n              callback(results)\n            })\n        }, 100)\n      }\n    }\n  },\n\n}\n\nexport default ScriptUtils\n","const SCRIPT_SAMPLES = [\n  {\n    name: 'Flat Bet',\n    text: `var config = {\n  wager: {\n    value: 1000, type: 'balance', label: 'wager'\n  },\n  payout: {\n    value: 2, type: 'multiplier', label: 'payout' }\n};\n\n// Try to bet immediately when script starts\nmakeBet();\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  makeBet();\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  if (lastGame.cashedAt) {\n    var profit = Math.round((config.wager.value * config.payout.value - config.wager.value) / 100)\n    log('we won', profit, 'bits');\n  } else {\n    log('we lost', Math.round(config.wager.value / 100), 'bits');\n  }\n}\n\nfunction makeBet() {\n  engine.bet(config.wager.value, config.payout.value);\n  log('betting', Math.round(config.wager.value / 100), 'on', config.payout.value, 'x');\n}`\n  },\n  {\n    name: 'Martingale',\n    text: `var config = {\n  baseBet: { value: 100, type: 'balance', label: 'base bet' },\n  payout: { value: 2, type: 'multiplier' },\n  stop: { value: 1e8, type: 'balance', label: 'stop if bet >' },\n  loss: {\n    value: 'increase', type: 'radio', label: 'On Loss',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  },\n  win: {\n    value: 'base', type: 'radio', label: 'On Win',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentBet = config.baseBet.value;\n\n// Always try to bet when script is started\nengine.bet(roundBit(currentBet), config.payout.value);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  engine.bet(roundBit(currentBet), config.payout.value);\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentBet *= config.win.options.increase.value;\n    }\n    log('We won, so next bet will be', currentBet/100, 'bits')\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentBet *= config.loss.options.increase.value;\n    }\n    log('We lost, so next bet will be', currentBet/100, 'bits')\n  }\n\n  if (currentBet > config.stop.value) {\n    log('Was about to bet', currentBet, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}\n\nfunction roundBit(bet) {\n  return Math.round(bet / 100) * 100;\n}`\n  },\n  {\n    name: 'Payout Martingale',\n    text: `var config = {\n  bet: {\n    value: 100,\n    type: 'balance'\n  },\n  basePayout: {\n    value: 1.2,\n    type: 'multiplier',\n    label: 'base payout'\n  },\n  stop: {\n    value: 20,\n    type: 'multiplier',\n    label: 'stop if payout >'\n  },\n  loss: {\n    value: 'increase',\n    type: 'radio',\n    label: 'On Loss',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 0.1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  },\n  win: {\n    value: 'base',\n    type: 'radio',\n    label: 'On Win',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentPayout = config.basePayout.value;\n\n// Always try to bet when script is started\nengine.bet(config.bet.value, currentPayout);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  log('betting', Math.round(config.bet.value / 100), 'at payout of', currentPayout, 'x')\n  engine.bet(config.bet.value, currentPayout);\n}\n\nfunction onGameEnded(info) {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('won, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentPayout += config.win.options.increase.value;\n      log('won, so increasing payout to', currentPayout)\n    }\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('lost, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentPayout += config.loss.options.increase.value;\n      log('lost, so increasing payout', currentPayout)\n    }\n  }\n\n  if (currentPayout > config.stop.value) {\n    log('Was about to bet with payout', currentPayout, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}`\n  },\n\n];\n\nconst NEW_SCRIPT = {\n  id: '',\n  name: 'Untitled Script',\n  text: `var config = {\n\n};\n\nlog('Simulation begins here...')`,\n  config: undefined\n}\n\nexport default {\n  SCRIPT_SAMPLES,\n  NEW_SCRIPT,\n}\n","import EventEmitter from 'events'\nimport CryptoJS from \"crypto-js\"\n\nfunction hashToBust(seed) {\n  const nBits = 52;\n  const hmac = CryptoJS.HmacSHA256(CryptoJS.enc.Hex.parse(seed), '0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526');\n  seed = hmac.toString(CryptoJS.enc.Hex);\n  seed = seed.slice(0, nBits / 4);\n  const r = parseInt(seed, 16);\n  let X = r / Math.pow(2, nBits);\n  X = 99 / (1 - X);\n  const result = Math.floor(X);\n  return Math.max(1, result / 100);\n}\n\nfunction hashToBusts(seed, amount) {\n  if (isNaN(amount) || amount <= 0) {\n    throw new TypeError('amount must be a number larger than zero.')\n  }\n  let prevHash = seed\n  const result = []\n  result.unshift({hash: prevHash, bust: hashToBust(String(prevHash))})\n  for (let index = 0; index < amount; index++) {\n    let hash = String(CryptoJS.SHA256(String(prevHash)))\n    let bust = hashToBust(hash)\n    result.unshift({hash, bust})\n    prevHash = hash;\n  }\n  return result\n}\n\nclass SimulatedBustabitHistory {\n  constructor () {\n    this.data = []\n  }\n\n  get size () {\n    return this.data.length\n  }\n\n  get length () {\n    return this.data.length\n  }\n\n  get start () {\n    return 0\n  }\n\n  get end () {\n    return this.data.length - 1\n  }\n\n  first () {\n    return this.data[0]\n  }\n}\n\nclass SimulatedBustabitEngine extends EventEmitter {\n\n  constructor () {\n    super()\n    this._userInfo = {\n      uname: 'Anonymous',\n      balance: 0,\n      bets: 0,\n      profit: 0,\n      profitATH: 0,\n      profitATL: 0\n    }\n    this.history = new SimulatedBustabitHistory()\n    this.bet = this.bet.bind(this)\n  }\n\n  getCurrentBet () {\n    if (!this.next) return undefined;\n    return { wager: this.next.wager, payout: this.next.payout }\n  }\n\n  isBetQueued () {\n    return !!this.next\n  }\n\n  cancelQueuedBet () {\n    this.next = undefined\n  }\n\n  bet(wager, payout) {\n    // 'bet' returns a Promise, just like on bustabit\n    return new Promise((resolve, reject) => {\n      this.next = { wager, payout: Math.round(payout * 100)/100, isAuto: true, resolve, reject }\n    })\n  }\n\n}\n\nfunction evalScript () {\n  const { config, engine, userInfo, log, stop, gameResultFromHash } = this // eslint-disable-line no-unused-vars\n  eval(arguments[0])\n}\n\nfunction simulate ({ text, config, startingBalance, gameHash, gameAmount, drawChart }) {\n  return new Promise((resolve, reject) => {\n    let logMessages = '',\n        shouldStop = false,\n        shouldStopReason = undefined;\n\n    const engine = new SimulatedBustabitEngine(),\n          userInfo = engine._userInfo,\n          log = function () {\n            let msg = Array.prototype.slice.call(arguments);\n            logMessages += msg.join(' ') + '\\n'\n            msg.unshift('LOG:')\n            console.log(...msg)\n          },\n          stop = function (reason) {\n            shouldStopReason = reason\n            shouldStop = true\n          },\n          gameResultFromHash = function (hash) {\n            return new Promise(resolve => resolve(hashToBust(hash)));\n          };\n\n    userInfo.balance = startingBalance\n\n    const results = {\n      startingBalance: +startingBalance,\n      balance: undefined,\n      bets: 0,\n      profit: 0,\n      profitATH: undefined,\n      profitATL: undefined,\n      message: '',\n      history: engine.history.data,\n      log: logMessages\n    };\n    if (drawChart) {\n      Object.assign(results, {\n        chartData: [],\n        duration: undefined,\n        profitPerHour: undefined\n      })\n    }\n\n    const context = { config, engine, userInfo, log, stop, gameResultFromHash };\n    evalScript.call(context, text)\n\n    const games = hashToBusts(gameHash, gameAmount)\n    nextGame(null, -1, games)\n\n    function nextGame (id) {\n      id++\n      setImmediate(() => {\n        if (id < games.length && !shouldStop) {\n          doGame(id)\n        } else {\n          endSimulation()\n        }\n      })\n    }\n\n\n    function endSimulation () {\n      if (shouldStop && shouldStopReason) {\n        log (shouldStopReason)\n      }\n\n      results.startingBalance = startingBalance\n      results.balance = userInfo.balance\n      results.bets = userInfo.bets\n      results.profit = userInfo.profit\n      results.profitATH = userInfo.profitATH\n      results.profitATL = userInfo.profitATL\n      results.message = `${userInfo.bets} Games played. ${results.profit > 0 ? 'Won' : 'Lost'} ${(results.profit/100)} bits. ${results.message || ''}`\n      results.history = engine.history.results\n      results.log = logMessages\n      if (drawChart) {\n        results.duration = results.chartData.reduce((a, b) => +a + +b.duration, 0)\n        results.profitPerHour = results.profit / (results.duration / (1000 * 60 * 60))\n      }\n      resolve(results);\n    }\n\n    function doGame(id) {\n      const game = games[id]\n      game.id = id\n      game.isSimulation = true\n      game.wager = 0\n      game.cashedAt = 0\n\n      // set gameState, just like bustabit\n      engine.gameState = 'GAME_STARTING';\n      // emit event, just like bustabit\n      engine.emit('GAME_STARTING', { gameId: id });\n\n      // engine.next is set when engine.bet(wager, payout) is called\n      // probably just like bustabit\n      const bet = engine.next\n      engine.next = null\n\n      if (bet) {\n        // reject with specific strings, just like bustabit\n        if (isNaN(bet.wager) || bet.wager < 100) {\n          bet.reject('INVALID_BET')\n          return endSimulation();\n        }\n        if (isNaN(bet.payout)) {\n          bet.reject('cannot parse JSON')\n          return endSimulation();\n        }\n        if (userInfo.balance - bet.wager < 0) {\n          bet.reject('BET_TOO_BIG')\n          return endSimulation();\n        }\n        if (bet.payout <= 1) {\n          bet.reject('payout is too low')\n          return endSimulation();\n        }\n\n        // decrease balance, just like bustabit\n\n        if (bet.wager > 0) {\n          userInfo.balance -= bet.wager\n          userInfo.bets++\n        }\n        // resolve with null, just like bustabit\n        bet.resolve(null)\n\n        // emit event, just like bustabit\n        engine.emit('BET_PLACED', {\n          uname: userInfo.uname,\n          wager: bet.wager,\n          payout: bet.payout\n        })\n      }\n\n      engine.emit('GAME_STARTED', null)\n\n      // set gameState, just like bustabit\n      engine.gameState = 'GAME_IN_PROGRESS';\n\n      // set wager and cashedAt, just like bustabit\n      // wager: zero when didn't bet\n      game.wager = bet ? bet.wager : 0\n      // cashedAt: zero when busted or didn't bet\n      game.cashedAt = bet && bet.wager > 0 && bet.payout <= game.bust ? bet.payout : 0\n\n      if (game.wager !== 0) {\n        // update balance, just like bustabit\n        userInfo.balance += game.cashedAt * game.wager\n        userInfo.profit = userInfo.balance - startingBalance\n        if (userInfo.profit < userInfo.profitATL) {\n          userInfo.profitATL = userInfo.profit\n        }\n        if (userInfo.profit > userInfo.profitATH) {\n          userInfo.profitATH = userInfo.profit\n        }\n      }\n\n      if (game.cashedAt > 0) {\n        // won!\n\n        // emit event, just like bustabit\n        engine.emit('CASHED_OUT', {\n          uname: userInfo.uname,\n          cashedAt: game.cashedAt,\n          wager: game.wager\n        })\n      }\n\n      // add game to history, just like bustabit\n      engine.history.data.unshift(game)\n      // keep track of some extra data for the chart\n      if (drawChart) {\n        results.chartData.unshift(Object.assign({\n          payout: (bet ? bet.payout : 0),\n          balance: userInfo.balance,\n          profit: (game.cashedAt > 0 ? (game.cashedAt - 1) * game.wager : -game.wager),\n          duration: Math.log(game.bust)/0.00006\n        }, game))\n      }\n\n      // set gameState, just like bustabit\n      engine.gameState = 'GAME_ENDED'\n      // emit event, just like bustabit\n      engine.emit('GAME_ENDED', { hash: game.hash, bust: game.bust })\n\n      nextGame(id)\n    }\n  });\n}\n\n\nexport default simulate\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass BustabitScriptConfig extends Component {\n  constructor (props) {\n    super(props)\n    this.handleConfigFieldChange = this.handleConfigFieldChange.bind(this)\n  }\n\n  handleConfigFieldChange (key, value) {\n    let path = key.split('.')\n\n    let obj = this.props.config\n    for (let i = 0; i<path.length; i++) {\n      obj = obj[path[i]]\n    }\n    obj.value = value\n    this.props.onChange(this.props.config)\n  }\n\n  render () {\n    const { config, onChange, className = '', ...rest } = this.props\n    return (\n      <div {...rest} className={`BustabitScript Config ${className}`}>\n        {!config ? null : Object.keys(config).map((key) => {\n          let element = config[key]\n          let component = FieldTypes[element.type]\n          return component({\n            ...element,\n            name: key,\n            onChange: this.handleConfigFieldChange\n          })\n        })}\n      </div>\n    )\n  }\n}\n\nBustabitScriptConfig.propTypes = {\n  config: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n}\n\nconst FieldTypes = Object.freeze({\n  'balance': BalanceInput,\n  'checkbox': CheckboxInput,\n  'multiplier': MultiplierInput,\n  'noop': NoopInput,\n  'radio': RadioInput,\n  'text': TextInput,\n});\n\nfunction BalanceInput ({ name, label, value, optional, onChange }) {\n  let id = `config.${name}`\n  return (\n    <div className=\"field is-horizontal\" key={id}>\n      <div className=\"field-label is-normal\">\n        <label htmlFor={id} className=\"label\">{label || name}</label>\n      </div>\n      <div className=\"field-body\">\n        <div className=\"field\">\n          <div className=\"control has-icons-right\">\n            <input  type=\"number\"\n                    className=\"input is-normal\"\n                    id={id}\n                    name={name}\n                    value={parseFloat(value)/100}\n                    required={!optional}\n                    step=\"1\"\n                    onChange={function (eventInfo) {\n                      onChange(name, parseFloat(eventInfo.target.value) * 100)\n                    }}/>\n            <span className=\"icon is-small is-right\">\n              bits\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction CheckboxInput ({ name, label, value, onChange }) {\n  let id = `config.${name}`\n  return (\n    <div className=\"field is-horizontal\" key={id}>\n      <div className=\"field-label is-normal\">\n        <label htmlFor={id} className=\"label\">{label || name}</label>\n      </div>\n      <div className=\"field-body\">\n        <div className=\"field\">\n          <div className=\"control\">\n            <input  type=\"checkbox\"\n                    className=\"checkbox\"\n                    id={id}\n                    name={name}\n                    checked={!!value}\n                    onChange={function (eventInfo) {\n                      onChange(name, !!eventInfo.target.checked)\n                    }}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction MultiplierInput ({ name, label, value, optional, onChange }) {\n  let id = `config.${name}`\n  return (\n    <div className=\"field is-horizontal\" key={id}>\n      <div className=\"field-label is-normal\">\n        <label htmlFor={id} className=\"label\">{label || name}</label>\n      </div>\n      <div className=\"field-body\">\n        <div className=\"field\">\n          <div className=\"control has-icons-right\">\n            <input  type=\"number\"\n                    className=\"input\"\n                    id={id}\n                    name={name}\n                    value={parseFloat(value)}\n                    required={!optional}\n                    step=\"0.01\"\n                    onChange={function (eventInfo) {\n                      onChange(name, parseFloat(eventInfo.target.value))\n                    }}/>\n            <span className=\"icon is-small is-right\">\n              <i className=\"fas fa-times\"></i>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction NoopInput ({ name, label, value }) {\n  let id = `config.${name}`\n  return (\n    <div className=\"field\" key={id}>\n      <label  className=\"label\"\n              htmlFor={id}>\n        {label}\n      </label>\n    </div>\n  )\n}\n\nfunction RadioInput ({ name, label, value, options, onChange }) {\n  function optionFieldChange(name, value) {\n    onChange(name, value)\n  }\n  let id = `config.${name}`\n  return (\n    <div className=\"field\" key={id}>\n      <fieldset style={{width: \"100%\", padding: \"10px 10px\"}}>\n        <legend className=\"label has-text-centered is-uppercase\">\n          {label || name}\n        </legend>\n        {Object.keys(options || {}).map((key) => {\n          const option = options[key]\n          return (\n            <div key={`option-${key}`} className=\"field\">\n              <input  type=\"radio\"\n                      name={name}\n                      id={`config.${name}.options.${key}`}\n                      value={key/* TODO: shouldn't this be option.value ?*/}\n                      checked={value === key}\n                      onChange={function (eventInfo) {\n                        onChange(name, eventInfo.target.value)/* TODO: shouldn't this be option.value ?*/\n                      }}/>\n              &nbsp;\n              <div className=\"is-inline-block\">\n                {FieldTypes[option.type]({\n                  ...option,\n                  onChange: optionFieldChange,\n                  name: `${name}.options.${key}`\n                })}\n              </div>\n            </div>\n          )\n        })}\n      </fieldset>\n    </div>\n  )\n}\n\nfunction TextInput ({ name, label, value, optional, onChange }) {\n  let id = `config.${name}`\n  return (\n    <div className=\"field is-horizontal\" key={id}>\n      <div className=\"field-label is-normal\">\n        <label htmlFor={id} className=\"label\">{label || name}</label>\n      </div>\n      <div className=\"field-body\">\n        <div className=\"field\">\n          <div className=\"control\">\n            <input  type=\"text\"\n                    className=\"input\"\n                    id={id}\n                    name={name}\n                    value={value}\n                    required={!optional}\n                    onChange={function (eventInfo) {\n                      onChange(name, eventInfo.target.value)\n                    }}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default BustabitScriptConfig\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactDOM from \"react-dom\";\nimport * as d3 from 'd3';\n\nimport './LineChart.css';\n\nclass LineChart extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      tooltipData: undefined\n    }\n\n    this.handleTooltipChange    = this.handleTooltipChange.bind(this)\n    this.shouldUpdateLineChart  = this.shouldUpdateLineChart.bind(this)\n    this.updateLineChart        = this.updateLineChart.bind(this)\n  }\n\n  componentDidMount () {\n    this.container = ReactDOM.findDOMNode(this)\n    this.updateLineChart()\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (this.shouldUpdateLineChart(prevProps)) {\n      this.updateLineChart()\n    }\n  }\n\n  render () {\n    const {\n      viewBoxWidth, viewBoxHeight,\n      data, xAccessor, yAccessor,\n      crosshairEnabled, crosshairClassName,\n      className = '', ...rest } = this.props\n    return (\n      <div {...rest} className={`LineChart ${className}`}>\n        <svg preserveAspectRatio=\"xMinYMin meet\"></svg>\n        <div className=\"tooltip-container\" style={{ visibility: (this.state.tooltipData ? undefined : 'hidden')}}>\n          <Tooltip className=\"tooltip\" data={this.state.tooltipData}/>\n        </div>\n      </div>\n    )\n  }\n\n  handleTooltipChange ({ data }) {\n    this.setState({ tooltipData: data })\n  }\n\n  shouldUpdateLineChart(prevProps) {\n    const didChange = (propName) => {\n      let prev = prevProps[propName],\n          current = this.props[propName];\n      return prev !== current || (Array.isArray(prev) && prev.length !== current.length);\n    }\n    const lineChartProps = [\n      'viewBoxWidth', 'viewBoxHeight',\n      'data', 'xAccessor', 'yAccessor'\n    ]\n    return lineChartProps.some(didChange)\n  }\n\n  updateLineChart () {\n    d3LineChart({\n      container: this.container,\n\n      viewBoxWidth: this.props.viewBoxWidth,\n      viewBoxHeight: this.props.viewBoxHeight,\n\n      onTooltipChange: this.handleTooltipChange,\n\n      data: this.props.data,\n      xAccessor: this.props.xAccessor,\n      yAccessor: this.props.yAccessor,\n\n      crosshairEnabled: this.props.crosshairEnabled,\n      crosshairClassName: this.props.crosshairClassName,\n    })\n  }\n}\n\nLineChart.propTypes = {\n  viewBoxWidth: PropTypes.number.isRequired,\n  viewBoxHeight: PropTypes.number.isRequired,\n  data: PropTypes.array.isRequired,\n  xAccessor: PropTypes.func.isRequired,\n  yAccessor: PropTypes.func.isRequired,\n  crosshairEnabled: PropTypes.bool,\n  crosshairClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n}\n\nclass Tooltip extends Component {\n  render () {\n    const { data, ...wrapper} = this.props\n    const { id, hash, bust, wager, payout, cashedAt, profit, balance } = data || {}\n    return (\n      <div  {...wrapper}>\n        {data && (\n          <table className=\"table is-hoverable is-transparent\">\n            <tbody>\n              <tr>\n                <th>Game ID</th>\n                <td>{id}</td>\n              </tr>\n              <tr>\n                <th>Hash</th>\n                <td><input className=\"input\" type=\"text\" value={hash} readOnly={true}/></td>\n              </tr>\n              <tr>\n                <th>Bust</th>\n                <td>{`${bust}x`}</td>\n              </tr>\n              <tr>\n                <th>Bet</th>\n                <td>{wager === 0 ? 'Didn\\'t play' : `${payout}x ${Math.round(wager)/100} bits`}</td>\n              </tr>\n              <tr>\n                <th>Cashed At</th>\n                <td>{cashedAt > 0 ? `${cashedAt}x` : '-'}</td>\n              </tr>\n              <tr>\n                <th>Profit</th>\n                <td className={profit === 0 ? 'has-text-warning' : (profit > 0 ? 'has-text-success' : 'has-text-danger')}>{Math.round(profit)/100} bits</td>\n              </tr>\n              <tr>\n                <th>Balance</th>\n                <td>{Math.round(balance)/100} bits</td>\n              </tr>\n            </tbody>\n          </table>\n        )}\n      </div>\n    )\n  }\n}\n\nfunction d3LineChart ({\n  container,\n  viewBoxWidth,\n  viewBoxHeight,\n  data,\n  xAccessor,\n  yAccessor,\n  onTooltipChange,\n  crosshairEnabled,\n  crosshairClassName\n}) {\n  if (!container) {\n    throw new TypeError('container should be an HTMLElement')\n  }\n  if (isNaN(viewBoxWidth) || isNaN(viewBoxHeight)) {\n    throw new TypeError('viewBoxWidth and viewBoxHeight should be numbers')\n  }\n  if (!xAccessor || !yAccessor || typeof(xAccessor) !== 'function' || typeof(yAccessor) !== 'function') {\n    throw new TypeError('xAccessor and yAccessor should be functions')\n  }\n  if (!data || !Array.isArray(data)) {\n    throw new TypeError('data should be an array')\n  }\n  if (onTooltipChange && typeof(onTooltipChange) !== 'function') {\n    throw new TypeError('onTooltipChange should be a function')\n  }\n  if (crosshairEnabled && crosshairClassName\n    && typeof(crosshairClassName) !== 'string'\n    && typeof(crosshairClassName) !== 'function') {\n    throw new TypeError('crosshairClassName should be a string or a function')\n  }\n\n  container = d3.select(container)\n  const svgElement = container.select('svg')\n  if (!svgElement) { throw new TypeError('container should have a child <svg></svg>'); }\n  let tooltipElement = container.select('.tooltip')\n\n  svgElement\n    .attr(\"viewBox\", `0 0 ${viewBoxWidth} ${viewBoxHeight}`);\n\n  const margin = {top: 20, right: 20, bottom: 110, left: 40},\n        margin2 = {top: 430, right: 20, bottom: 30, left: 40},\n        width = +viewBoxWidth - margin.left - margin.right,\n        height = +viewBoxHeight - margin.top - margin.bottom,\n        height2 = +viewBoxHeight - margin2.top - margin2.bottom;\n\n  svgElement.selectAll('*').remove()\n\n  const xScale  = d3.scaleLinear().range([0, width]),\n        xScale2 = d3.scaleLinear().range([0, width]),\n        yScale  = d3.scaleLinear().range([height, 0]),\n        yScale2 = d3.scaleLinear().range([height2, 0]);\n\n  const xAxis = d3.axisBottom(xScale),\n        xAxis2 = d3.axisBottom(xScale2),\n        yAxis = d3.axisLeft(yScale).tickFormat(function (n) { return (Math.round(n)/100) });\n\n  // line\n  var lineX = function (d) { return xScale(xAccessor(d)); }\n  var lineY = function (d) { return yScale(yAccessor(d)); }\n  var line = d3.line().x(lineX).y(lineY);\n\n  var line2X = function (d) { return xScale2(xAccessor(d)); }\n  var line2Y = function (d) { return yScale2(yAccessor(d)); }\n  var line2 = d3.line().x(line2X).y(line2Y);\n\n  var selected;\n  var brush = d3.brushX()\n      .extent([[0, 0], [width, height2]])\n      .on(\"brush end\", brushed);\n\n  var zoom = d3.zoom()\n      .scaleExtent([1, Infinity])\n      .translateExtent([[0, 0], [width, height]])\n      .extent([[0, 0], [width, height]])\n      .on(\"zoom\", zoomed);\n\n\n\n  // create svg elements\n\n  svgElement.append(\"defs\").append(\"svg:clipPath\")\n      .attr(\"id\", \"clip\")\n      .append(\"svg:rect\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0);\n\n\n  var g_lines = svgElement.append(\"g\")\n      .attr(\"class\", \"data-lines\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n      .attr(\"clip-path\", \"url(#clip)\");\n\n  var crosshairElement;\n  if (crosshairEnabled) {\n    crosshairElement = svgElement.append(\"g\")\n    crosshairElement.attr(\"class\", \"crosshair\")\n                    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n                    .attr(\"clip-path\", \"url(#clip)\");\n    crosshairElement.append(\"line\")\n                    .attr(\"class\", \"crosshair-line crosshair-line-x\")\n    crosshairElement.append(\"line\")\n                    .attr(\"class\", \"crosshair-line crosshair-line-y\")\n  }\n\n  var g_axes = svgElement.append(\"g\")\n      .attr(\"class\", \"axes\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  var context = svgElement.append(\"g\")\n      .attr(\"class\", \"context\")\n      .attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\n\n\n  var overlay = svgElement.append(\"rect\")\n    .attr(\"class\", \"zoom\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n\n  withData(data)\n\n  function withData(data) {\n\n    xScale.domain(d3.extent(data, xAccessor));\n    yScale.domain(d3.extent(data, yAccessor));\n    xScale2.domain(xScale.domain());\n    yScale2.domain(yScale.domain());\n\n    g_axes.append(\"g\")\n          .attr(\"class\", \"axis axis-x\")\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\n          .call(xAxis);\n\n    g_axes.append(\"g\")\n          .attr(\"class\", \"axis axis-y\")\n          .call(yAxis);\n\n\n    g_lines.append(\"path\")\n           .datum(data)\n           .attr(\"class\", \"data-line\")\n           .attr(\"d\", line);\n\n    g_lines.selectAll(\".data-point\")\n           .data(data)\n           .enter().append(\"circle\")\n           .attr(\"class\", function (d) { return \"data-point \" + (d.profit > 0 ? 'is-success' : 'is-danger') })\n           .attr(\"cx\", lineX)\n           .attr(\"cy\", lineY)\n           .attr(\"r\", 5)\n\n    context.append(\"path\")\n           .datum(data)\n           .attr(\"class\", \"data-line\")\n           .attr(\"d\", line2);\n\n    context.append(\"g\")\n           .attr(\"class\", \"axis axis-x\")\n           .attr(\"transform\", \"translate(0,\" + height2 + \")\")\n           .call(xAxis2);\n\n    context.append(\"g\")\n           .attr(\"class\", \"brush\")\n           .call(brush)\n           .call(brush.move, xScale.range());\n\n    overlay.call(zoom);\n    overlay.on(\"mousemove\",mousemove)\n      .on(\"mouseover\", function () {\n        if (tooltipElement) {\n          tooltipElement.style(\"opacity\", 1);\n        }\n        if (crosshairElement) {\n          crosshairElement.style(\"opacity\", 1);\n        }\n      })\n      .on(\"mouseout\", function () {\n        if (tooltipElement) {\n          tooltipElement.style(\"opacity\", 0);\n        }\n        if (crosshairElement) {\n          crosshairElement.style(\"opacity\", 0);\n        }\n        g_lines.selectAll('.data-point')\n         .classed('hover', false)\n      });\n\n    let bisect = d3.bisector(function (d, dx) { return dx - xAccessor(d) }).left\n\n    function mousemove () {\n\n      const mousex = d3.mouse(this)[0],\n            dx = xScale.invert(mousex),\n            i = bisect(data, dx),\n            d0 = data[i - 1],\n            d1 = data[i];\n\n      let d;\n      if (!d1) d = d0;\n      else if (!d0) d = d1;\n      else d = Math.abs(dx - xAccessor(d1)) > Math.abs(dx - xAccessor(d0)) ? d0 : d1;\n\n      selected = d\n\n      g_lines.selectAll('.data-point')\n         .classed('hover', (d) => xAccessor(d) === xAccessor(selected))\n      moveCrosshair(selected)\n      moveTooltip(d)\n    }\n  }\n\n  function moveTooltip (d) {\n    if (tooltipElement && svgElement && container && viewBoxWidth && viewBoxHeight) {\n      let svgMouse = d3.mouse(svgElement.node()),\n          containerMouse = d3.mouse(container.node());\n\n      let tooltipX, tooltipY;\n      const tooltipOffset = {\n        left: 25,\n        top: 25\n      }\n      const tooltipSize = tooltipElement.node().getBoundingClientRect()\n      if (svgMouse[0] > viewBoxWidth - tooltipSize.width) {\n        tooltipX = containerMouse[0] - tooltipSize.width - tooltipOffset.left\n      } else {\n        tooltipX = containerMouse[0] + tooltipOffset.left\n      }\n\n      if (svgMouse[1] > viewBoxHeight - tooltipSize.height) {\n        tooltipY = containerMouse[1] - tooltipSize.height - tooltipOffset.top\n      } else {\n        tooltipY = containerMouse[1] + tooltipOffset.top\n      }\n      /*\n      if (overlayMouse[0] > width/2) {\n        tooltipX = containerMouse[0] - tooltipElement.node().getBoundingClientRect().width - tooltipOffset.left\n      } else {\n        tooltipX = containerMouse[0] + tooltipOffset.left\n      }\n      if (overlayMouse[1] > height/2) {\n        tooltipY = containerMouse[1] + tooltipOffset.top\n      } else {\n        tooltipY = containerMouse[1] - tooltipElement.node().getBoundingClientRect().height - tooltipOffset.top\n      }*/\n\n\n      tooltipElement\n        .style('top', tooltipY + 'px')\n        .style('left', tooltipX + 'px')\n\n      if (onTooltipChange) {\n        onTooltipChange({ data: d })\n      }\n    }\n  }\n\n  function moveCrosshair(d) {\n    let xdomain = xScale.domain()\n    let ydomain = yScale.domain()\n    crosshairElement\n      .select('.crosshair-line-x')\n      .transition()\n      .ease(d3.easeLinear)\n      .attr('x1', lineX(d)).attr('y1', yScale(ydomain[0]))\n      .attr('x2', lineX(d)).attr('y2', yScale(ydomain[1]))\n      .duration(100);\n    crosshairElement\n      .select('.crosshair-line-y')\n      .transition()\n      .ease(d3.easeLinear)\n      .attr('x1', xScale(xdomain[0])).attr('y1', lineY(d))\n      .attr('x2', xScale(xdomain[1])).attr('y2', lineY(d))\n      .duration(100);\n  }\n\n\n  function brushed() {\n    if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\n    var s = d3.event.selection || xScale2.range();\n    xScale.domain(s.map(xScale2.invert, xScale2));\n\n    g_lines.select(\".data-line\")\n      .attr(\"d\", line);\n    g_lines.selectAll(\".data-point\")\n      .attr(\"cx\", lineX)\n      .attr(\"cy\", lineY);\n\n    if (selected) moveCrosshair(selected);\n\n    g_axes.select(\".axis-x\").call(xAxis);\n    svgElement.select(\".zoom\").call(zoom.transform, d3.zoomIdentity\n      .scale(width / (s[1] - s[0]))\n      .translate(-s[0], 0));\n  }\n\n  function zoomed() {\n    if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"brush\") return; // ignore zoom-by-brush\n    var t = d3.event.transform;\n    xScale.domain(t.rescaleX(xScale2).domain());\n\n    g_lines.select(\".data-line\")\n      .attr(\"d\", line);\n    g_lines.selectAll(\".data-point\")\n      .attr(\"cx\", lineX)\n      .attr(\"cy\", lineY)\n\n    if (selected) moveCrosshair(selected);\n\n    g_axes.select(\".axis-x\").call(xAxis);\n    context.select(\".brush\").call(brush.move, xScale.range().map(t.invertX, t));\n  }\n\n}\n\nexport default LineChart\n","import React, { Component } from 'react';\nimport Config from './BustabitScriptConfig';\nimport LineChart from './LineChart'\nimport PropTypes from 'prop-types'\nimport './BustabitScript.css'\n\nclass App extends Component {\n\n  viewState () {\n    if (this.props.scripts.editing) {\n      return 'edit'\n    }\n    if (this.props.scripts.creating) {\n      return 'new'\n    }\n    if (this.props.scripts.deleting) {\n      return 'delete'\n    }\n    if (this.props.scripts.selected) {\n      return 'show'\n    }\n    return 'list'\n  }\n\n  componentDidMount () {\n    this.props.scripts.load()\n  }\n\n  render () {\n    const viewState = this.viewState()\n    const { scripts, className = '', ...rest} = this.props\n    return (\n      <div {...rest} className={className}>\n        {(viewState === 'list' || viewState === 'delete') && (\n          <List\n            scripts={scripts}/>\n        )}\n        {viewState === 'edit' && (\n          <Edit\n            script={scripts.editing}\n            error={scripts.updateError}\n            onCancel={scripts.onCancel}\n            onSave={scripts.onSave}/>\n        )}\n        {viewState === 'new' && (\n          <New\n            script={scripts.creating}\n            error={scripts.createError}\n            onCancel={scripts.onCancel}\n            onSave={scripts.onSave}/>\n        )}\n        {viewState === 'show' && (\n          <Show\n            scripts={scripts}/>\n        )}\n      </div>\n    )\n  }\n}\n\nclass Title extends Component {\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div {...rest} className={`${className}`}>\n        <p>\n          <span className=\"bustabit-logo\"/>\n          <span className=\"bustabit-title\">\n            Bustabit\n          </span>\n        </p>\n        <p>\n          <span className=\"script-simulator-title\">\n            Script Simulator\n          </span>\n        </p>\n        <p>\n          <span className=\"script-simulator-author\">\n            by <a href=\"https://github.com/Mtihc\">Mtihc</a>\n          </span>\n        </p>\n      </div>\n    )\n  }\n}\n\nclass List extends Component {\n  render () {\n    const { className = '', scripts, ...rest} = this.props\n    let deletingId = scripts.deleting ? scripts.deleting.id : undefined\n    return (\n      <div {...rest} className={`BustabitScript-List box is-inline-block ${className}`}>\n        <table className=\"table is-hoverable\">\n          <thead>\n            <tr>\n              <th colSpan=\"2\">\n                <h3 className=\"subtitle is-4\">\n                  My Scripts\n                </h3>\n              </th>\n              <th colSpan=\"2\">\n                <NewButton\n                  onClick={() => scripts.onNew()}/>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {scripts.items.entrySeq().map(([index, script]) => {\n              let id = script.id\n              if (id === deletingId) {\n                return (\n                  <tr key={id}>\n                    <th>{script.name}</th>\n                    <td colSpan=\"3\" style={{ maxWidth: '9rem' }}>\n                      <Delete key={id}\n                        script={scripts.deleting}\n                        onCancel={scripts.onCancel}\n                        onDeleteConfirmed={scripts.onDeleteConfirmed}/>\n                    </td>\n                  </tr>\n                )\n              }\n              return (\n                <tr key={id}>\n                  <th>{script.name}</th>\n                  <td>\n                    <SelectButton\n                      onClick={() => scripts.onSelect(id)}/>\n                  </td>\n                  <td>\n                    <EditButton\n                      onClick={() => scripts.onEdit(id)}/>\n                  </td>\n                  <td>\n                    <DeleteButton\n                      onClick={() => scripts.onDelete(id)}/>\n                  </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nfunction msToTime(duration) {\n  var milliseconds = parseInt((duration % 1000) / 100),\n    seconds = parseInt((duration / 1000) % 60),\n    minutes = parseInt((duration / (1000 * 60)) % 60),\n    hours = parseInt((duration / (1000 * 60 * 60)) % 24);\n\n  hours = (hours < 10) ? \"0\" + hours : hours;\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n  return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n}\n\nclass Show extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      script: props.scripts.selected,\n      startingBalance: 1000000,\n      gameHash: '7edbd07968e771f205a4e2b67701c2f6993437db0c557160ba79ee70ea6d10c6',\n      gameAmount: 1000,\n      drawChart: true,\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.scripts.results !== prevProps.scripts.results) {\n      let resultsElement = document.getElementById(\"results\")\n      if (resultsElement) {\n        const y = resultsElement.getBoundingClientRect().top + window.scrollY;\n        window.scrollTo({ behavior: 'smooth', top: y })\n      }\n    }\n  }\n\n  render () {\n    const { className = '', scripts, ...rest} = this.props\n    return (\n      <div {...rest} className={`BustabitScript Show ${className}`}>\n        {this.state.script && (\n          <div key={this.state.script.id}>\n            <div className=\"box is-inline-block has-text-left\">\n              <div>\n                <GoBackButton\n                  className={`${scripts.isLoading ? 'is-loading' : ''}`}\n                  onClick={scripts.onDeselect}/>\n                <EditButton\n                  className=\"is-pulled-right\"\n                  onClick={() => scripts.onEdit(this.state.script.id)}/>\n              </div>\n              <hr className=\"hr\"/>\n              <Config\n                config={this.state.script.config}\n                onChange={config => {\n                  this.setState(({ script }) => {\n                    script.config = config\n                    return { script }\n                  })\n                }}/>\n              <hr className=\"hr\"/>\n              <Control label=\"Starting Balance\"\n                       icon=\"fas fa-coins\">\n                <input  className=\"input is-normal\"\n                        type=\"number\" required={true}\n                        min=\"1\" step=\"1\"\n                        name=\"startingBalance\"\n                        value={this.state.startingBalance/100}\n                        onChange={(event) => {\n                          let changes = { [event.target.name]: parseFloat(event.target.value) * 100 }\n                          this.setState(changes)\n                        }}/>\n              </Control>\n              <Control label=\"Hash\"\n                       icon=\"fas fa-key\">\n                <input  className=\"input is-normal\"\n                        type=\"text\" required={true}\n                        name=\"gameHash\"\n                        value={this.state.gameHash}\n                        onChange={(event) => {\n                          this.setState({ [event.target.name]: String(event.target.value) })\n                        }}/>\n              </Control>\n\n              <Control label=\"Games\"\n                       icon=\"fas fa-hashtag\">\n                <input  className=\"input is-normal\"\n                        type=\"number\" required={true}\n                        min=\"1\" step=\"1\"\n                        name=\"gameAmount\"\n                        value={this.state.gameAmount}\n                        onChange={(event) => {\n                          this.setState({ [event.target.name]: parseInt(event.target.value) })\n                        }}/>\n              </Control>\n              <hr className=\"hr\"/>\n              <div className=\"field is-grouped\">\n                <div className=\"control\">\n                  <button className={`button is-success ${scripts.isLoading ? 'is-loading' : ''}`}\n                          disabled={!(\n                            this.state.script &&\n                            this.state.gameHash &&\n                            this.state.gameAmount &&\n                            this.state.startingBalance\n                          )}\n                          onClick={() => {\n                            let args = {\n                              script: this.state.script,\n                              gameHash: this.state.gameHash,\n                              gameAmount: this.state.gameAmount,\n                              startingBalance: this.state.startingBalance,\n                              drawChart: this.state.drawChart,\n                            };\n                            scripts.onRunScript(args)\n                          }}>\n                    Run Script\n                  </button>\n                </div>\n                <div className=\"control\">\n                  <label className=\"checkbox\">\n                    <input className=\"checkbox\"\n                           type=\"checkbox\"\n                           name=\"drawChart\"\n                           checked={this.state.drawChart}\n                           onChange={(event) => {\n                            this.setState({[event.target.name]: Boolean(event.target.checked)})\n                          }}/>\n                    &nbsp;\n                    Draw Chart\n                  </label>\n                </div>\n              </div>\n              <div>\n                <textarea className=\"textarea\"\n                          value={scripts.results ? scripts.results.log : undefined}\n                          readOnly={true}\n                          style={{width: '100%', height: '200px'}}\n                          placeholder=\"Script logs will appear here\">\n                </textarea>\n              </div>\n            </div>\n          </div>\n        )}\n        {scripts.selected && scripts.results && (\n          <section className=\"section\">\n            <div id=\"results\"/>\n            {scripts.results.error && (\n              <div className=\"notification is-danger\">\n                <h3 className=\"is-3\">Error</h3>\n                <pre className=\"notification is-danger has-text-left\">\n                  {String(scripts.results.error)}\n                </pre>\n              </div>\n            )}\n            {!scripts.results.error && (\n              <div className=\"columns\">\n                <div className=\"column is-one-fifth\">\n                  <table className={\"table is-hoverable box is-inline-block\"}>\n                    <tbody>\n                      <tr>\n                        <th>Games Played</th>\n                        <td>{scripts.results.bets}</td>\n                      </tr>\n                      <tr>\n                        <th>Duration</th>\n                        <td>{msToTime(scripts.results.duration)}</td>\n                      </tr>\n                      <tr>\n                        <th>Starting Balance</th>\n                        <td>{+scripts.results.startingBalance/100}</td>\n                      </tr>\n                      <tr>\n                        <th>Profit ATL</th>\n                        <td>{Math.round(scripts.results.profitATL)/100}</td>\n                      </tr>\n                      <tr>\n                        <th>Profit ATH</th>\n                        <td>{Math.round(scripts.results.profitATH)/100}</td>\n                      </tr>\n                      <tr>\n                        <th>Profit</th>\n                        <td className={`${scripts.results.profit >= 0 ? 'has-text-success' : 'has-text-danger'}`}>{Math.round(scripts.results.profit)/100}</td>\n                      </tr>\n                      {scripts.results.profit > 0 && (\n                        <tr>\n                          <th>Profit per hour</th>\n                          <td>{Math.round(scripts.results.profitPerHour)/100}</td>\n                        </tr>\n                      )}\n                      <tr>\n                        <th>Balance</th>\n                        <td>{scripts.results.balance/100}</td>\n                      </tr>\n                      <tr>\n                        <td colSpan=\"2\">{scripts.results.message || ''}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                {scripts.results.chartData && (\n                  <div className=\"column\">\n                    <div className=\"has-text-centered box\">\n                      <LineChart {...{\n                        viewBoxWidth: 960,\n                        viewBoxHeight: 500,\n                        data: scripts.results.chartData,\n                        xAccessor: (d) =>  { return d.id },\n                        yAccessor: (d) => { return d.balance },\n                        crosshairEnabled: true,\n                        crosshairClassName: (d) => { return d.profit > 0 ? 'is-success' : 'is-danger' },\n                      }}/>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n            <BackToTopButton/>\n          </section>\n        )}\n      </div>\n    )\n  }\n}\n\nclass Delete extends Component {\n  render () {\n    return (\n      <div>\n        {!this.props.script ? null : (\n          <div>\n            <p>\n              Are you sure you want to delete this script?\n            </p>\n            <div className=\"buttons is-pulled-right\">\n              <button\n                className=\"button\"\n                onClick={() => {\n                  let id = this.props.script.id\n                  this.props.onDeleteConfirmed(id, true)\n                }}>Yes</button>\n              <button\n                className=\"button\"\n                onClick={this.props.onCancel}>No</button>\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nclass EditButton extends Component {\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div className={`BustabitScript EditButton control ${className}`}>\n        <button {...rest} className={`button is-info ${className}`}>\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\n            <i className=\"fas fa-eye\"></i>\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass SelectButton extends Component {\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div className={\"BustabitScript SelectButton control\"}>\n        <button {...rest} className={`button ${className}`}>\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\n            <i className=\"fas fa-play\"></i>\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass DeleteButton extends Component {\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div className={\"BustabitScript DeleteButton control\"}>\n        <button {...rest} className={`button ${className}`}>\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\n            <i className=\"fas fa-trash-alt\"></i>\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass NewButton extends Component {\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div className=\"BustabitScript NewButton control is-pulled-right\">\n        <button {...rest} className={`button is-success ${className}`}>\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\n            <i className=\"fas fa-plus\"></i>\n          </span>\n          <span>New</span>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass GoBackButton extends Component {\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <a {...rest} className={`button is-normal ${className}`}>\n        <span className=\"icon is-medium\">\n          <i className=\"fas fa-arrow-left\"></i>\n        </span>\n        <span>Go Back</span>\n      </a>\n    )\n  }\n}\n\nclass BackToTopButton extends Component {\n  render () {\n    const { className = '', onClick, ...rest } = this.props || {}\n    return (\n      <button {...rest} className={`button is-normal ${className}`}\n          onClick={() => {\n            window.scroll({ top: 0, behavior: 'smooth' })\n            if (onClick) onClick();\n          }}>\n        <span className=\"icon is-medium\">\n          <i className=\"fas fa-arrow-up\"></i>\n        </span>\n        <span>Back to Top</span>\n      </button>\n    )\n  }\n}\n\nclass Edit extends Component {\n\n  constructor (props) {\n    super(props)\n    this.close = this.close.bind(this)\n  }\n\n  close (event) {\n    if (event) { event.preventDefault(); }\n    this.props.onCancel()\n  }\n\n  render () {\n    return (\n      <div className={'BustabitScript Edit modal' + (this.props.script ? ' is-active' : '')}>\n        <div className=\"modal-background\"\n             onClick={this.close}></div>\n        <div className=\"modal-card\" style={{ width: '90%'}}>\n          <form onSubmit={(event) => {\n            if (event) { event.preventDefault(); }\n            const id   = String(event.target.id.value || '').trim()\n            const name = String(event.target.name.value || '').trim()\n            const text = String(event.target.text.value || '').trim()\n            const script = { ...this.props.script, id, name, text }\n            this.props.onSave(script)\n          }}>\n            <header className=\"modal-card-head\">\n              <p className=\"modal-card-title\">Edit Script</p>\n              <button className=\"delete\"\n                      onClick={this.close}>\n              </button>\n            </header>\n            <section className=\"modal-card-body\">\n              {this.props.error && (\n                <div className=\"notification is-warning\">\n                  <p><strong>Error</strong></p>\n                  <pre className=\"notification is-warning has-text-left\">\n                    {String(this.props.error)}\n                  </pre>\n                </div>\n              )}\n              <input  className=\"input\"\n                      type=\"hidden\"\n                      name=\"id\"\n                      defaultValue={this.props.script ? this.props.script.id : ''}/>\n              <input  className=\"input is-normal\"\n                      required={true}\n                      type=\"text\"\n                      name=\"name\"\n                      defaultValue={this.props.script ? this.props.script.name : ''}/>\n              <textarea className=\"textarea is-normal\"\n                        required={true}\n                        rows=\"10\"\n                        name=\"text\"\n                        defaultValue={this.props.script ? this.props.script.text : ''}>\n              </textarea>\n            </section>\n            <footer className=\"modal-card-foot\">\n              <button className=\"button is-success\"\n                      type=\"submit\">\n                Save Script\n              </button>\n              <button className=\"button\"\n                      onClick={this.close}>\n                Cancel\n              </button>\n            </footer>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\nEdit.propTypes = {\n  script: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    config: PropTypes.object,\n  }).isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired\n}\n\nclass New extends Edit { }\n\nNew.propTypes = {\n  script: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired\n  }),\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired\n}\n\n\nclass Control extends Component {\n  render () {\n    const { children, label, icon, className = '', ...rest } = this.props\n    return (\n      <div className=\"field is-horizontal\">\n        {label === undefined ? null : (\n          <div className=\"field-label is-normal\">\n            <label className=\"label\">\n              {label}\n            </label>\n          </div>\n        )}\n        <div className=\"field-body\">\n          <div className=\"field\">\n            <div className={`control ${icon ? ' has-icons-left' : ''} ${className}`} {...rest}>\n              {children}\n              {icon && (\n                <span className=\"icon is-small is-left\">\n                  <i className={icon}></i>\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default { App, Title, EditButton }\n","import React, { Component } from 'react';\n\nclass DisclaimerButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isOpen: false\n    }\n  }\n\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div>\n        <button {...rest} className={`button ${className}`}\n                onClick={() => this.setState({ isOpen: true })}>\n          <span className=\"icon is-medium\">\n            <i className=\"fas fa-exclamation\"></i>\n          </span>\n          <span className=\"is-uppercase\">Disclaimer</span>\n        </button>\n        <DisclaimerModal\n          isOpen={this.state.isOpen}\n          onClose={() => this.setState({ isOpen: false })}/>\n      </div>\n    )\n  }\n}\n\nclass DisclaimerModal extends Component {\n  render () {\n    return (\n      <div className={'modal' + (this.props.isOpen ? ' is-active' : '')}>\n        <div className=\"modal-background\"\n             onClick={this.props.onClose}>\n        </div>\n        <div className=\"modal-content\">\n          <div className=\"box\">\n            <h4 className=\"title is-4\">\n              <span\n                className=\"icon is-medium\">\n                <i className=\"fas fa-exclamation\"></i>\n              </span>\n              Disclaimer\n            </h4>\n            <p>No one is responsible if you lose money using this tool and/or trusting its results.</p>\n            <p>All it does is simulate you running a script on previous bustabit games. </p>\n            <p>Results achieved in the past don't provide any guarantee for the future.</p>\n            <p>And, there's no guarantee that the simulated engine on this site, behaves in exactly the same way as the engine on bustabit.</p>\n          </div>\n        </div>\n        <button\n          className=\"modal-close is-large\"\n          onClick={this.props.onClose}>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport { DisclaimerButton, DisclaimerModal }\n","import React, { Component } from 'react';\n\nclass DonateButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isOpen: false\n    }\n  }\n\n  render () {\n    const { className = '', ...rest } = this.props\n    return (\n      <div>\n        <button {...rest}\n                className={`button ${className}`}\n                onClick={() => this.setState({ isOpen: true })}>\n          <span className=\"icon\">\n            <i className=\"fas fa-hand-holding-usd\"></i>\n          </span>\n          <span className=\"is-uppercase\">Send a tip...</span>\n        </button>\n        <DonateModal\n          isOpen={this.state.isOpen}\n          onClose={() => this.setState({ isOpen: false })}/>\n      </div>\n    )\n  }\n\n}\n\nclass DonateModal extends Component {\n  render () {\n    return (\n      <div className={'modal' + (this.props.isOpen ? ' is-active' : '')}>\n        <div className=\"modal-background\"\n             onClick={this.props.onClose}>\n        </div>\n        <div className=\"modal-content\">\n          <div className=\"box\">\n            <p><strong>Hello fellow gambler!</strong></p>\n            <p>I hope you like my Bustabit Simulator. I worked hard on it.\n              <span className=\"icon is-medium\">\n                <i className=\"fas fa-grin-beam-sweat\"></i>\n              </span>\n            </p>\n            <p>If you use this tool regularly, please consider donating a dollar or two.</p>\n            <p>\n              <a href=\"https://bustabit.com/tip\"\n                 target=\"_blank\" rel=\"noopener noreferrer\">\n                <span>https://bustabit.com/tip</span>\n              </a>\n              <span>My username is </span><span className=\"is-bold\">Mtihc</span>\n            </p>\n            <p>\n              <a href=\"https://paypal.me/MitchStoffels\"\n                 target=\"_blank\" rel=\"noopener noreferrer\">\n                <span>https://paypal.me/MitchStoffels</span>\n              </a>\n            </p>\n          </div>\n        </div>\n        <button\n          className=\"modal-close is-large\"\n          onClick={this.props.onClose}>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport { DonateModal , DonateButton }\n","import React from 'react';\nimport {Helmet} from \"react-helmet\";\nimport 'bulma/css/bulma.css'\nimport './AppView.css';\nimport BustabitScript from './components/BustabitScript'\nimport { DisclaimerButton } from './components/Disclaimer'\nimport { DonateButton } from './components/Donate'\n\nfunction AppView (props) {\n  return (\n    <div className=\"App\">\n      <Helmet>\n        {/* Global site tag (gtag.js) - Google Analytics */}\n        <script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-19206200-1\"></script>\n        <script>\n          window.dataLayer = window.dataLayer || [];\n          const gtag = (...arguments) => dataLayer.push(arguments);\n          gtag('js', new Date());\n          gtag('config', 'UA-19206200-1');\n        </script>\n      </Helmet>\n      <nav className=\"navbar has-shadow\">\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <div className=\"navbar-item\">\n              <BustabitScript.Title/>\n            </div>\n          </div>\n          <div className=\"navbar-end\">\n            <div className=\"navbar-item\">\n              <div className=\"buttons\">\n                <DisclaimerButton className=\"is-small\"/>\n                <DonateButton className=\"is-small\"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n      <main className=\"section has-text-centered\">\n        <BustabitScript.App scripts={props.scripts}/>\n      </main>\n    </div>\n  );\n}\n\nexport default AppView\n","const ActionTypes = {\n  LOADED:       'scripts/loaded',\n  NEW:          'scripts/new',\n  CREATE_ERROR: 'scripts/create-error',\n  CREATED:      'scripts/created',\n  EDIT:         'scripts/edit',\n  UPDATE_ERROR: 'scripts/update-error',\n  UPDATED:      'scripts/updated',\n  CANCEL:       'scripts/cancel',\n  DELETE:       'scripts/delete',\n  DELETE_ERROR: 'scripts/delete-error',\n  DELETED:      'scripts/deleted',\n  SIMULATE:     'scripts/simulate',\n  SIMULATED:    'scripts/simulated',\n};\n\nexport default ActionTypes;\n","import {Dispatcher} from 'flux';\n\nexport default new Dispatcher();\n","import Immutable from 'immutable';\nimport { ReduceStore } from 'flux/utils';\nimport ScriptActionTypes from './ScriptActionTypes';\nimport ScriptDispatcher from './ScriptDispatcher';\n\nclass ScriptStore extends ReduceStore {\n  constructor() {\n    super(ScriptDispatcher);\n  }\n\n  getInitialState() {\n    return Immutable.OrderedMap()\n  }\n\n  reduce(state, action) {\n\n    switch (action.type) {\n      case ScriptActionTypes.LOADED:\n        return state.clear().merge(action.scripts)\n\n      case ScriptActionTypes.DELETED:\n        return state.delete(action.id)\n\n      case ScriptActionTypes.CREATED:\n        return state.set(action.script.id, action.script)\n\n      case ScriptActionTypes.UPDATED:\n        return state.set(action.script.id, action.script)\n\n      default:\n        return state;\n    }\n  }\n}\n\nexport default new ScriptStore();\n","import Immutable from 'immutable';\nimport {ReduceStore} from 'flux/utils';\nimport ScriptActionTypes from './ScriptActionTypes';\nimport ScriptDispatcher from './ScriptDispatcher';\nimport ScriptConstants from './ScriptConstants';\n\nclass ScriptListStore extends ReduceStore {\n  constructor() {\n    super(ScriptDispatcher);\n  }\n\n  getInitialState() {\n    return Immutable.OrderedMap({\n      creating: undefined,\n      editingId: undefined,\n      deletingId: undefined,\n      selectedId: undefined,\n      isSimulating: false,\n      results: undefined,\n      error: undefined,\n    })\n  }\n\n  reduce(state, action) {\n    switch (action.type) {\n      case ScriptActionTypes.NEW:\n        return state.set('creating', Object.assign({}, ScriptConstants.NEW_SCRIPT))\n                    .set('createError', undefined)\n\n      case ScriptActionTypes.CREATED:\n        return state.set('creating', undefined)\n                    .set('createError', undefined)\n\n      case ScriptActionTypes.CREATE_ERROR:\n        return state.set('createError', action.error)\n\n\n      case ScriptActionTypes.EDIT:\n        return state.set('editingId', action.id)\n                    .set('updateError', undefined)\n\n      case ScriptActionTypes.UPDATED:\n        return state.set('editingId', undefined)\n                    .set('updateError', undefined)\n\n      case ScriptActionTypes.UPDATE_ERROR:\n        return state.set('updateError', action.error)\n\n\n      case ScriptActionTypes.DELETE:\n        return state.set('deletingId', action.id)\n                    .set('deleteError', undefined)\n\n      case ScriptActionTypes.DELETED:\n        return state.set('deletingId', undefined)\n                    .set('deleteError', undefined)\n\n      case ScriptActionTypes.DELETE_ERROR:\n        return state.set('deleteError', action.error)\n\n\n      case ScriptActionTypes.CANCEL:\n        return state.set('creating', undefined)\n                    .set('editingId', undefined)\n                    .set('deletingId', undefined)\n                    .set('createError', undefined)\n                    .set('updateError', undefined)\n                    .set('deleteError', undefined)\n\n      case ScriptActionTypes.SELECT:\n        return state.set('selectedId', action.id)\n                    .set('results', undefined)\n\n      case ScriptActionTypes.DESELECT:\n        return state.set('selectedId', undefined)\n\n      case ScriptActionTypes.SIMULATE:\n        return state.set('results', undefined)\n                    .set('isSimulating', true)\n\n      case ScriptActionTypes.SIMULATED:\n        return state.set('results', action.results)\n                    .set('isSimulating', false)\n\n      default:\n        return state;\n    }\n  }\n}\n\nexport default new ScriptListStore();\n","import ScriptActionTypes from './ScriptActionTypes';\nimport ScriptDispatcher from './ScriptDispatcher';\nimport ScriptUtils from './ScriptUtils'\n\nconst Actions = {\n\n  load () {\n    let scripts = ScriptUtils.load();\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.LOADED, scripts });\n  },\n\n  restoreSamples () {\n    let scripts = ScriptUtils.restoreSamples()\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.LOADED, scripts });\n  },\n\n  delete (id) {\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.DELETE, id })\n  },\n\n  deleteConfirmed (id) {\n    ScriptUtils.delete(id)\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.DELETED, id })\n  },\n\n  save (script) {\n    if (!script.id) {\n      try {\n        ScriptUtils.save(script)\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.CREATED, script })\n      } catch (e) {\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.CREATE_ERROR, script, error: e })\n      }\n    } else {\n      try {\n        ScriptUtils.save(script)\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.UPDATED, script })\n      } catch (e) {\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.UPDATE_ERROR, script, error: e })\n      }\n    }\n  },\n\n  new () {\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.NEW })\n  },\n\n  edit (id) {\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.EDIT, id })\n  },\n\n  cancel () {\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.CANCEL })\n  },\n\n  select (id) {\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.SELECT, id })\n  },\n\n  deselect () {\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.DESELECT })\n  },\n\n  runScript (settings) {\n    Actions.save(settings.script)\n\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.SIMULATE, settings });\n    ScriptUtils\n      .runScript(settings)\n      .then((results) => {\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.SIMULATED, results })\n      })\n  }\n};\n\nexport default Actions;\n","import AppView from '../views/AppView';\nimport {Container} from 'flux/utils';\nimport ScriptStore from '../data/ScriptStore';\nimport ScriptListStore from '../data/ScriptListStore';\nimport ScriptActions from '../data/ScriptActions';\n\nfunction getStores() {\n  return [\n    ScriptStore,\n    ScriptListStore\n  ];\n}\n\nfunction getState() {\n  let items = ScriptStore.getState()\n  let list = ScriptListStore.getState()\n  return {\n    scripts: {\n      ...{\n        items: items,\n        creating: list.get('creating'),\n        editing: items.get(list.get('editingId')),\n        deleting: items.get(list.get('deletingId')),\n        selected: items.get(list.get('selectedId')),\n        isLoading: list.get('isSimulating'),\n        results: list.get('results'),\n        createError: list.get('createError'),\n        updateError: list.get('updateError'),\n        deleteError: list.get('deleteError')\n      },\n      ...{\n        load: ScriptActions.load,\n        onNew: ScriptActions.new,\n        onEdit: ScriptActions.edit,\n        onCancel: ScriptActions.cancel,\n        onSave: ScriptActions.save,\n        onDelete: ScriptActions.delete,\n        onDeleteConfirmed: ScriptActions.deleteConfirmed,\n        onSelect: ScriptActions.select,\n        onDeselect: ScriptActions.deselect,\n        onRunScript: ScriptActions.runScript,\n      }\n    },\n  };\n}\n\nexport default Container.createFunctional(AppView, getStores, getState);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppContainer from './containers/AppContainer';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<AppContainer />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}